{% extends "base.twig" %}
{% block title %}Corpus{% endblock %}
{% block content %}
    <div class="row starter-template">
        <h2>{% if course is defined %}{{ course.name }} ({{ course.code }}){% else %}All Courses{% endif %}</h2>
    </div>
    <div class="row">
        <div class="col-md-6">
            <div id="pieChart"></div>
            <script>
            var pie = new d3pie("pieChart", {
                "header": {
                    "title": {
                        "text": "Top {{rows}} Words",
                        "fontSize": 24,
                        "font": "arial"
                    }
                    // ,
                    // "subtitle": {
                    //     "text": "Data description",
                    //     "color": "#999999",
                    //     "fontSize": 12,
                    //     "font": "open sans"
                    // },
                    // "titleSubtitlePadding": 9
                },
            	"footer": {
            		"color": "#999999",
            		"fontSize": 10,
            		"font": "open sans",
            		"location": "bottom-left"
            	},
            	"size": {
            		"canvasWidth": 590,
            		"pieOuterRadius": "90%"
            	},
            	"data": {
            		"sortOrder": "value-desc",
            		"content": {{ data|raw }}
            	},
            	"labels": {
            		"outer": {
            			"pieDistance": 32
            		},
            		"inner": {
            			"hideWhenLessThanPercentage": 3
            		},
            		"mainLabel": {
            			"fontSize": 11
            		},
            		"percentage": {
            			"color": "#ffffff",
            			"decimalPlaces": 1
            		},
            		"value": {
            			"color": "#adadad",
            			"fontSize": 11
            		},
            		"lines": {
            			"enabled": true
            		},
            		"truncation": {
            			"enabled": true
            		}
            	},
            	"effects": {
            		"pullOutSegmentOnClick": {
            			"effect": "linear",
            			"speed": 400,
            			"size": 8
            		}
            	},
            	"misc": {
            		"gradient": {
            			"enabled": true,
            			"percentage": 100
            		}
            	}
            });
            </script>
        </div>
        <div class="col-md-6">
            <h3>Summary</h3>
            <table class="table table-striped table-hover table-condensed table-bordered">
                <tr>
                    <th>Documents</th>
                    <td>{{ summary.documents }}</td>
                </tr>
                <tr>
                    <th>Words</th>
                    <td>{{ summary.words }}</td>
                </tr>
                <tr>
                    <th>Source</th>
                    <td><a href="http://courses.cs.ut.ee{% if course is defined %}{{ course.url }}{% endif %}">Homepage</a></td>
                </tr>
            </table>
        </div>
    </div>
      
  {% endblock %}
